"use strict";(self.blocksyJsonP=self.blocksyJsonP||[]).push([[321],{9679:function(e,t,o){o.d(t,{$0:function(){return i},Kz:function(){return r},Vz:function(){return a},pF:function(){return l},r:function(){return s},v3:function(){return c},zT:function(){return n}});const n=function(e){e.closest(".ct-media-container, .ct-dynamic-media").dataset.state="playing"},i=function(e){e&&(e.matches('iframe[src*="youtu"]')?e.contentWindow.postMessage(JSON.stringify({event:"command",func:"mute"}),"*"):e.matches('iframe[src*="vimeo"]')&&e.contentWindow.postMessage(JSON.stringify({method:"setMuted",value:!0}),"*"))},r=function(e){e&&(e.matches("video")?e.play():e.matches('iframe[src*="youtu"]')?e.contentWindow.postMessage(JSON.stringify({event:"command",func:"playVideo"}),"*"):e.matches('iframe[src*="vimeo"]')&&e.contentWindow.postMessage(JSON.stringify({method:"play"}),"*"))},c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e&&(e.matches("video[autoplay]")||e.matches('iframe[src*="youtu"][src*="autoplay=1"]')||e.matches('iframe[src*="vimeo"][src*="autoplay=1"]')?(t(),r(e)):o())},a=function(e){e.closest(".ct-media-container, .ct-dynamic-media").dataset.state="paused"},s=function(e){if(e)if(e.matches("video"))e.pause();else if(e.matches('iframe[src*="youtu"]'))e.contentWindow.postMessage(JSON.stringify({event:"command",func:"pauseVideo"}),"*");else if(e.matches('iframe[src*="vimeo"]'))e.contentWindow.postMessage(JSON.stringify({method:"pause"}),"*");else if(e.matches("iframe")){const t=e.src;e.src="",e.src=t}},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(e)return e.matches("video")?(t("ready"),e.addEventListener("play",(function(){return t("play")})),void e.addEventListener("pause",(function(){return t("pause")}))):e.matches('iframe[src*="youtu"]')?(window.addEventListener("message",(function(o){if(o.data&&o.source===e.contentWindow)try{const e=JSON.parse(o.data);"onStateChange"===e.event&&(1===e.info&&t("play"),2===e.info&&t("pause"))}catch(o){}})),void e.addEventListener("load",(function(){e.contentWindow.postMessage(JSON.stringify({event:"listening",id:1,channel:"widget"}),"*"),e.contentWindow.postMessage(JSON.stringify({event:"command",func:"addEventListener",args:["onStateChange"],id:1,channel:"widget"}),"*"),t("ready")}))):void(e.matches('iframe[src*="vimeo"]')&&window.addEventListener("message",(function(o){if(o.data&&o.source===e.contentWindow)try{const n=JSON.parse(o.data);"ready"===n.event&&(e.contentWindow.postMessage(JSON.stringify({method:"addEventListener",value:"pause"}),"*"),e.contentWindow.postMessage(JSON.stringify({method:"addEventListener",value:"play"}),"*"),t(n.event)),"pause"!==n.event&&"play"!==n.event||t(n.event)}catch(o){}})))}},5321:function(e,t,o){o.r(t),o.d(t,{mount:function(){return d}});var n=o(2194),i=o.n(n),r=o(3846),c=o(9679);function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function s(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){l(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t,o){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const d=function(e,t){let{event:n}=t;const a=window.PhotoSwipe&&document.querySelector(".woocommerce-product-gallery__trigger"),l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e.closest(".elementor-section-wrap"))return;const n=i()(".pswp")[0],r=i()(e);let a=[...e.closest(".woocommerce-product-gallery").querySelectorAll(".ct-media-container")].filter((function(e){return!e.closest(".flexy-pills")}));if(a=a.map((function(e){if(e.matches("[data-media-id]"))return{mediaContainer:e,html:`<div class="ct-lightbox-video-container" data-media-id="${e.dataset.mediaId}"></div>`};const t=e.querySelector("video,iframe");if(t)return{mediaContainer:e,html:`<div class="ct-lightbox-video-container">${t.outerHTML}</div>`};const o=e.querySelector("img:not(.zoomImg)");return{mediaContainer:e,img:o,src:o.closest("[data-src]")&&(o.closest("[data-src]").dataset.src||o.closest("[data-src]").href)||o.src,w:(o.closest("[data-width]")?o.closest("[data-width]").dataset.width:o.width)||o.width,h:(o.closest("[data-height]")?o.closest("[data-height]").dataset.height:o.width)||o.width,title:o.getAttribute("data-caption")}})),1===a.length&&a[0].img&&a[0].img.closest("a")&&!a[0].img.closest("a").getAttribute("data-src")&&"woocommerce-placeholder"===a[0].img.title)return;var l=i().extend({index:0===t?0:t||i()(r).index(),addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].textContent=e.title,!0):(t.children[0].textContent="",!1)}},{shareEl:!1,fullscreenEl:!0,closeOnScroll:!1,history:!1,showHideOpacity:!1,hideAnimationDuration:0,showAnimationDuration:0}),d=new PhotoSwipe(n,PhotoSwipeUI_Default,a,l);d.init();const u=function(){d.currItem.container.closest(".pswp").querySelectorAll("video,iframe").forEach((function(e){return(0,c.r)(e)}))};d.listen("close",(function(){const t=e.closest(".woocommerce-product-gallery").querySelector(".flexy-container"),o=null==t?void 0:t.flexy;o&&t.dataset.autoplay&&(o.options=s(s({},o.options),{},{autoplay:parseInt(t.dataset.autoplay),_autoplay:parseInt(t.dataset.autoplay)}),o.state=s(s({},o.state),{},{lastTimeAnimated:(new Date).getTime()})),u()}));const m=function(){const e=d.currItem.container.querySelector("[data-media-id]");if(!e||e.querySelector("video,iframe"))return;const t=e.closest(".pswp").querySelector(".pswp__preloader");t&&t.classList.add("pswp__preloader--active"),o.e(87).then(o.bind(o,4087)).then((function(o){let{fetchVideoBy:n}=o;n(e.dataset.mediaId,{ignoreVideoOptions:!0}).then((function(o){e.innerHTML=o.html,t&&t.classList.remove("pswp__preloader--active")}))}))};setTimeout((function(){m()}),300),d.listen("afterChange",(function(){u(),m()}))};n&&(0,r.b)()&&"click"===n.type&&setTimeout((function(){n.target&&n.target.click&&n.target.click()})),function(){let{onlyZoom:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[...document.querySelectorAll(".woocommerce-product-gallery .woocommerce-product-gallery__trigger")];[...document.querySelectorAll(".woocommerce-product-gallery .ct-media-container")].filter((function(e){return!e.closest(".flexy-pills")})).map((function(o){if(!(window.wp&&wp.customize&&wp.customize("has_product_single_lightbox")&&"yes"===wp.customize("has_product_single_lightbox")())&&window.wp&&window.wp.customize||e||o.matches("[data-media-id]")||o.hasPhotoswipeListener||(o.hasPhotoswipeListener=!0,o.addEventListener("click",(function(e){if(!a)return;if(t.length>0)return;e.preventDefault();let n=0;n=[...o.parentNode.querySelectorAll(".ct-media-container")].indexOf(o),o.closest(".flexy-items")&&(n=[...o.closest(".flexy-items").children].indexOf(o.parentNode)),a&&l(o,n)}))),i().fn.zoom&&(window.wp&&wp.customize&&wp.customize("has_product_single_zoom")&&"yes"===wp.customize("has_product_single_zoom")()||!window.wp||!window.wp.customize)){const e=o.getBoundingClientRect();if(o.closest(".elementor-section-wrap"))return;if(o.closest(".ct-quick-view-card"))return;if(o.querySelector("iframe"))return;if(o.querySelector("video"))return;parseFloat(o.getAttribute("data-width"))>o.closest(".woocommerce-product-gallery").getBoundingClientRect().width&&i()(o).zoom(s(s({url:o.dataset.src,touch:!1,duration:50},e.width>parseFloat(o.dataset.width)||e.height>parseFloat(o.dataset.height)?{magnify:2}:{}),(0,r.b)()?{on:"toggle"}:{}))}})),i().fn.zoom&&(window.wp&&wp.customize&&wp.customize("has_product_single_zoom")&&"yes"===wp.customize("has_product_single_zoom")()||!window.wp||!window.wp.customize)&&setTimeout((function(){n&&(n.target.closest(".elementor-section-wrap")||(n.target.closest(".flexy-items")||n.target.closest(".ct-media-container")&&n.target.closest(".ct-media-container").parentNode.classList.contains("ct-stacked-gallery-container"))&&i()(n.target.closest(".ct-media-container")).trigger((0,r.b)()?"click.zoom":"mouseenter.zoom"))}),150),t.map((function(e){e.hasPhotoswipeListener||(e.hasPhotoswipeListener=!0,e.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation();const o=e.closest(".woocommerce-product-gallery"),n=o.querySelector(".flexy-container"),i=null==n?void 0:n.flexy;if(o.querySelectorAll("video,iframe").forEach((function(e){return(0,c.r)(e)})),i&&n.dataset.autoplay&&setTimeout((function(){i.options=s(s({},i.options),{},{autoplay:!1,_autoplay:!1})}),50),!o.querySelector(".ct-media-container")||o.querySelector(".flexy-items")){if(e.closest(".ct-media-container")&&e.closest(".flexy-items")&&e.closest(".ct-columns-top-gallery"))a&&l(e.closest(".ct-media-container"),[...e.closest(".ct-media-container").parentNode.parentNode.children].indexOf(e.closest(".ct-media-container").parentNode));else if(document.querySelector(".single-product .ct-stacked-gallery-container > .ct-media-container")&&a&&l(document.querySelector(".single-product .ct-stacked-gallery-container > .ct-media-container")),document.querySelector(".single-product .flexy-items .ct-media-container")){let e=document.querySelector(".single-product .flexy-pills"),t=Array.from(e.querySelector(".active").parentNode.children).indexOf(e.querySelector(".active")||e.firstElementChild);a&&l(document.querySelector(".single-product .flexy-items").children[t].firstElementChild,t)}}else a&&l(o.querySelector(".ct-media-container"))})))}))}()}}}]);